<!DOCTYPE html>
<html>
<head>
    <title>Snowball</title>
</head>
<body>
    <div id="app">
        <p>Monthly Budget: <input type="number" v-model="monthlyBudget"> {{ monthlyBudget | formatDollar }}</p>

        <table>
            <th>
                <tr>
                    <td >Name</td>
                    <td align="right">Balance</td>
                    <td align="right">Rate</td>
                    <td align="right">Minimum<br>Payment</td>
                </tr>
            </th>
            <tr v-for="account in accounts">
                <td><input v-model="account.name"></td>
                <td align="right">
                    <input type="number" step="any" v-model="account.balance"><br>
                    {{account.balance | formatDollar }}
                </td>
                <td align="right">
                    <input type="number" step="any" v-model="account.interestRate"><br>
                    {{account.interestRate | formatPercentage}}
                </td>
                <td align="right">
                    <input type="number" step="any" v-model="account.minimumPayment"><br>
                    {{account.minimumPayment | formatDollar}}
                </td>
                <td>
                    <button v-on:click="removeAccount(account.id)">Remove</button>
                </td>
            </tr>
        </table>
        <button v-on:click="addAccount">Add New Account</button>
<br>
            <table>
                <tr>
                    <td></td>
                    <td
                        style="text-align: right; padding-left: 10px;"
                        v-for="account in sortedAccounts">
                        <span style="font-size: x-small;">{{ account.name }}</span><br>
                        {{ account.balance | formatDollar }}
                    </td>
                    <td
                        style="text-align: right; padding-left: 10px;">
                        <span style="font-size: x-small;">Total</span><br>
                        {{ totalBalance | formatDollar }}
                    </td>
                </tr>
                <tr v-for="(month, i) in simulatedAmortization">
                    <td style="text-align: right; padding-left: 10px;">{{ i+1 }}</td>
                    <td v-if="account.payment < 0 || account.balance > 0"
                        :title="account.name"
                        style="text-align: right; padding-left: 10px;"
                        v-for="account in month.simulatedAccounts">
                            <span style="font-size: x-small;">{{ account.name }}</span><br>
                            {{ account.interest | formatDollar }}<br>
                            {{ account.payment | formatDollar }}<br>
                            {{ account.balance | formatDollar }}
                    </td>
                    <td v-else></td>
                    <td style="text-align: right; padding-left: 10px; background-color: darkgray;">
                        <span style="font-size: x-small;">Total</span><br>
                        {{ month.totalInterest | formatDollar }}<br>
                        {{ month.totalPayment | formatDollar }}<br>
                        {{ month.totalBalance | formatDollar }}
                    </td>
                </tr>
            </table>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="Snowball.js"></script>
</body>
</html>